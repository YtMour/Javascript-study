<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>123</title>
</head>
<body>

<form action="http://localhost:8080/register" method="get">
    <label>用户名<input type="text" name="username" placeholder="请输入用户名"/></label><br/>
    <label>密码<input type="password" name="password"/></label><br/>
    性别
    <label><input type="radio" name="sex" value="man"/>男</label>
    <label><input type="radio" name="sex" value="women"/>女</label><br/>
    爱好
    <label><input type="checkbox" name="zzzz" value="chang" checked="checked" id="ddd"/>唱</label>
    <label><input type="checkbox" name="zzzz" value="tiao"/>跳</label>
    <label><input type="checkbox" name="zzzz" value="rap"/>rap</label>
    <label><input type="checkbox" name="zzzz" value="lanqiu"/>篮球</label><br/>
    <input id="anniu" type="button" value="普通按钮"/><input id="inpsub" type="submit" value="注册"/><br/>
    <input type="hidden" name="hd" value="xiaojianbang"/><br/>
</form>

<script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js" integrity="sha512-E8QSvWZ0eCLGk4km3hxSsNmGWbLtSCSUcewDQPQWZF6pEU8GlT8a5fF32wOl1i8ftdMhssTrF/OhyGWwonTcXA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script>

    // document.forms[0].onsubmit = function (event) {
    //     event.preventDefault();
    //     let checkboies = document.getElementsByName('zzzz');
    //     let num = 0;
    //     for (const checkboy of checkboies) {
    //         if (checkboy.checked) {
    //             num++;
    //         }
    //     }
    //     if (num >= 3) {
    //         this.submit();
    //     } else {
    //         alert('爱好至少选三种！');
    //     }
    // };

    //console.log(CryptoJS);
    let buttonSubmit = document.getElementById('inpsub');
    buttonSubmit.onclick = function (event) {
        event.preventDefault();
        let pass = document.getElementsByName('password')[0];
        let hd = document.getElementsByName('hd')[0];
        console.log(pass.value);
        console.log(hd.value);
        let base64Pass = CryptoJS.enc.Utf8.parse(pass.value).toString(CryptoJS.enc.Base64);
        let base64Hd = CryptoJS.enc.Utf8.parse(hd.value).toString(CryptoJS.enc.Base64);
        console.log("base64Pass: ", base64Pass);
        console.log("base64Hd: ", base64Hd);
        pass.value = base64Pass;
        hd.value = base64Hd;
        document.forms[0].submit();
    }



</script>
</body>
</html>